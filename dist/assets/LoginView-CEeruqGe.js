import{a as p}from"./axios-Bo0ATomq.js";import{_ as u,c,a as e,b as m,w as _,g as l,v as i,F as f,r as h,o as x}from"./index-C64LxqXU.js";import{_ as g}from"./logo-DnAP6O0m.js";const w="https://vue3-course-api.hexschool.io",y={data(){return{user:{username:"",password:""}}},created(){},mounted(){console.log(this.$router,this.$route)},methods:{login(){p.post(`${w}/v2/admin/signin`,this.user).then(s=>{alert(s.data.message);const{token:t,expired:r}=s.data;console.log("test",s.data,t,r),document.cookie=`newToken=${t}; expires=${new Date(r)};`,this.$router.push("/admin/products")}).catch(()=>{alert("登入失敗")})}}},b={style:{display:"flex","justify-content":"center","align-items":"center"}},v=e("img",{style:{height:"200px"},src:g},null,-1),k={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},V={class:"form-group"},E=e("label",{for:"exampleInputEmail1"},"管理者帳號(電子信箱)",-1),I={class:"form-group"},$=e("label",{for:"exampleInputPassword1"},"管理者密碼",-1);function B(s,t,r,C,n,a){const d=h("RouterLink");return x(),c(f,null,[e("div",b,[m(d,{to:"/"},{default:_(()=>[v]),_:1})]),e("form",k,[e("div",V,[E,l(e("input",{id:"exampleInputEmail1","onUpdate:modelValue":t[0]||(t[0]=o=>n.user.username=o),type:"email",class:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email"},null,512),[[i,n.user.username]])]),e("div",I,[$,l(e("input",{id:"exampleInputPassword1","onUpdate:modelValue":t[1]||(t[1]=o=>n.user.password=o),type:"password",class:"form-control",placeholder:"Password"},null,512),[[i,n.user.password]])]),e("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=(...o)=>a.login&&a.login(...o))}," 登入 ")])],64)}const D=u(y,[["render",B]]);export{D as default};
